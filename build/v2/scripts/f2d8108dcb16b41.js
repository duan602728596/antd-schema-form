(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{804:function(e,t,r){e.exports={mediaMb10:"_2wnHUb",mb10:"_24fr0v",mr10:"_BvgMEI",collapse:"_361_16",fl:"_2T7MO1",title:"_1keLZ-",fr:"_1eBus7",info:"__L1eht",children:"__lB4U1",typeSelect:"_3defOH"}},806:function(e,t,r){"use strict";var i=r(18),o=r(19),a=r(20),n=r(21),s=r(50),l=r(22),p=r(28),d=r(1),u=r.n(d),c=r(0),m=r.n(c);t.a=function(e){return function(t){var r,c;return c=r=function(r){function p(){var t,r,o;Object(i.a)(this,p),o=Object(a.a)(this,Object(n.a)(p).apply(this,arguments));var l=(null===(t=Object(s.a)(o))||void 0===t?void 0:null===(r=t.props)||void 0===r?void 0:r.injectReducers)||null;return l&&l(e),o}return Object(l.a)(p,r),Object(o.a)(p,[{key:"render",value:function(){return u.a.createElement(t,null)}}]),p}(d.Component),Object(p.a)(r,"propTypes",{injectReducers:m.a.func}),c}}},808:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(800);var i=r(801);function o(e,t,r){var o=document.createRange(),a=window.getSelection();o.selectNode(document.getElementById(e)),a.rangeCount>0&&a.removeAllRanges(),a.addRange(o),document.execCommand("copy"),i.a.info(t)}},821:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"String type","properties":{"id":{"id":"$root/properties/id","type":"string","title":"The id of the current attribute","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"Type of data","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"Title, used to describe the role of the keyword","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"Description, used to describe the role of the keyword"},"$required":{"id":"$root/properties/$required","type":"boolean","title":"Value must exist"},"$requiredMessage":{"id":"$root/properties/$requiredMessage","type":"string","title":"Customize the verification prompt for $required"},"pattern":{"id":"$root/properties/pattern","type":"string","title":"Regular expression verification"},"$patternOption":{"id":"$root/properties/$patternOption","type":"string","title":"Specify global, case-sensitive, and multi-line matching"},"$patternMessage":{"id":"$root/properties/$patternMessage","type":"string","title":"Custom pattern verification failure prompt message"},"minLength":{"id":"$root/properties/minLength","type":"number","title":"Minimum length verification of strings"},"$minLengthMessage":{"id":"$root/properties/$minLengthMessage","type":"string","title":"Customize minLength\'s verification failure prompt message"},"maxLength":{"id":"$root/properties/maxLength","type":"number","title":"Maximum length verification of strings"},"$maxLengthMessage":{"id":"$root/properties/$maxLengthMessage","type":"string","title":"Customize maxLength\'s verification failure prompt message"},"$length":{"id":"$root/properties/$length","type":"number","title":"Specified length verification of the string"},"$lengthMessage":{"id":"$root/properties/$lengthMessage","type":"string","title":"Customization of $length verification failure message"},"enum":{"id":"$root/properties/enum","type":"array","title":"Verify that the value of the form control must be in the array value of this keyword","items":{"id":"$root/properties/enum/items","type":"string","title":"关键值","$required":true}},"$enumMessage":{"id":"$root/properties/$enumMessage","type":"string","title":"Custom enum verification failure message"},"$readOnly":{"id":"$root/properties/$readOnly","type":"boolean","title":"Form control read only"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"Hide form fields (form values still exist)"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},"$placeholder":{"id":"$root/properties/$placeholder","type":"string","title":"Placeholder property of a form control"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"string","title":"Default value of the form"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"Render as other components","$componentType":"select","$options":[{"label":"Text field","value":"textArea"},{"label":"Drop down box","value":"select"},{"label":"Single box","value":"radio"},{"label":"Date selector","value":"date"},{"label":"Password input","value":"password"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"Optional option","items":{"id":"$root/properties/$options/items","type":"object","title":"Optional option","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"Displayed text","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"string","title":"Value","$required":true}}}}}}')},822:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"Number type","properties":{"id":{"id":"$root/properties/id","type":"string","title":"The id of the current attribute","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"Type of data","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"Title, used to describe the role of the keyword","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"Description, used to describe the role of the keyword"},"$required":{"id":"$root/properties/$required","type":"boolean","title":"Value must exist"},"minimum":{"id":"$root/properties/minimum","type":"number","title":"Form minimum value"},"$minimumMessage":{"id":"$root/properties/$minimumMessage","type":"string","title":"Customize the verification failure prompt message"},"maximum":{"id":"$root/properties/maximum","type":"number","title":"Form maximum value"},"$maximumMessage":{"id":"$root/properties/$maximumMessage","type":"string","title":"Customize the verification failure message for maximum"},"$integer":{"id":"$root/properties/$integer","type":"boolean","title":"Must be an integer"},"$integerMessage":{"id":"$root/properties/$integerMessage","type":"string","title":"Customized $integer validation failure message"},"enum":{"id":"$root/properties/enum","type":"array","title":"Verify that the value of the form control must be in the array value of this keyword","items":{"id":"$root/properties/enum/items","type":"number","title":"Key value","$required":true}},"$enumMessage":{"id":"$root/properties/$enumMessage","type":"string","title":"Custom enum verification failure message"},"$readOnly":{"id":"$root/properties/$readOnly","type":"boolean","title":"Form control read only"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"Hide form fields (form values still exist)"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},"$placeholder":{"id":"$root/properties/$placeholder","type":"string","title":"Placeholder property of a form control"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"number","title":"Default value of the form"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"Render as other components","$componentType":"select","$options":[{"label":"Single box","value":"radio"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"Optional option","items":{"id":"$root/properties/$options/items","type":"object","title":"Optional option","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"Displayed text","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"number","title":"Value","$required":true}}}}}}')},823:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"Boolean type","properties":{"id":{"id":"$root/properties/id","type":"string","title":"The id of the current attribute","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"Type of data","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"Title, used to describe the role of the keyword","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"Description, used to describe the role of the keyword"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"Hide form fields (form values still exist)"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"boolean","title":"Default value of the form"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"Render as other components","$componentType":"select","$options":[{"label":"Switch","value":"switch"}]}}}')},824:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"Boolean type","properties":{"id":{"id":"$root/properties/id","type":"string","title":"The id of the current attribute","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"Type of data","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"Title, used to describe the role of the keyword","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"Description, used to describe the role of the keyword"},"required":{"id":"$root/properties/required","type":"array","title":"The attributes that the object must contain","items":{"id":"$root/properties/required/items","type":"string","title":"The attributes that the object must contain","$required":true}}}}')},825:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"Array type","properties":{"id":{"id":"$root/properties/id","type":"string","title":"The id of the current attribute","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"Type of data","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"Title, used to describe the role of the keyword","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"Description, used to describe the role of the keyword"},"minItems":{"id":"$root/properties/minItems","type":"number","title":"The minimum value of the form"},"$minimumMessage":{"id":"$root/properties/$minimumMessage","type":"string","title":"Customize the verification failure message for the minimum"},"maximum":{"id":"$root/properties/maximum","type":"number","title":"The maximum value of the form"},"$maximumMessage":{"id":"$root/properties/$maximumMessage","type":"string","title":"Customize the verification failure message for maximum"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"Render as other components","$componentType":"select","$options":[{"label":"Checkbox","value":"checkbox"},{"label":"Multi-select mode of drop-down box","value":"multiple"},{"label":"Multi-select mode for drop-down box, and you can enter text","value":"tags"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"Optional option","items":{"id":"$root/properties/$options/items","type":"object","title":"Optional option","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"Displayed text","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"string","title":"Value","$required":true}}}},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"Hide form fields (form values still exist)"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"Hidden columns when the object is in an array and the component is a table (the form value still exists)"},"$addDataInReverseOrder":{"id":"$root/properties/$addDataInReverseOrder","type":"boolean","title":"Add data to the head of the array"}}}')},826:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"string类型","properties":{"id":{"id":"$root/properties/id","type":"string","title":"当前属性的id","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"数据类型","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"标题，用于描述关键字的作用","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"说明，用于描述关键字的作用"},"$required":{"id":"$root/properties/$required","type":"boolean","title":"值必须存在"},"$requiredMessage":{"id":"$root/properties/$requiredMessage","type":"string","title":"自定义$required的验证提示信息"},"pattern":{"id":"$root/properties/pattern","type":"string","title":"正则表达式验证"},"$patternOption":{"id":"$root/properties/$patternOption","type":"string","title":"指定全局匹配、区分大小写的匹配和多行匹配"},"$patternMessage":{"id":"$root/properties/$patternMessage","type":"string","title":"自定义pattern的验证失败提示信息"},"minLength":{"id":"$root/properties/minLength","type":"number","title":"字符串的最小长度验证"},"$minLengthMessage":{"id":"$root/properties/$minLengthMessage","type":"string","title":"自定义minLength的验证失败提示信息"},"maxLength":{"id":"$root/properties/maxLength","type":"number","title":"字符串的最大长度验证"},"$maxLengthMessage":{"id":"$root/properties/$maxLengthMessage","type":"string","title":"自定义maxLength的验证失败提示信息"},"$length":{"id":"$root/properties/$length","type":"number","title":"字符串的指定长度验证"},"$lengthMessage":{"id":"$root/properties/$lengthMessage","type":"string","title":"自定义$length的验证失败提示信息"},"enum":{"id":"$root/properties/enum","type":"array","title":"验证表单控件的值必须在此关键字的数组值中","items":{"id":"$root/properties/enum/items","type":"string","title":"关键值","$required":true}},"$enumMessage":{"id":"$root/properties/$enumMessage","type":"string","title":"自定义enum的验证失败信息"},"$readOnly":{"id":"$root/properties/$readOnly","type":"boolean","title":"表单控件只读"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"隐藏表单域（表单值仍然存在）"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},"$placeholder":{"id":"$root/properties/$placeholder","type":"string","title":"表单控件的placeholder属性"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"string","title":"表单的默认值"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"渲染为其他组件","$componentType":"select","$options":[{"label":"文本域","value":"textArea"},{"label":"下拉框","value":"select"},{"label":"单选框","value":"radio"},{"label":"日期选择器","value":"date"},{"label":"密码输入","value":"password"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"可选的选项","items":{"id":"$root/properties/$options/items","type":"object","title":"可选的选项","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"显示的文字","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"string","title":"值","$required":true}}}}}}')},827:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"number类型","properties":{"id":{"id":"$root/properties/id","type":"string","title":"当前属性的id","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"数据类型","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"标题，用于描述关键字的作用","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"说明，用于描述关键字的作用"},"$required":{"id":"$root/properties/$required","type":"boolean","title":"值必须存在"},"minimum":{"id":"$root/properties/minimum","type":"number","title":"表单的最小值"},"$minimumMessage":{"id":"$root/properties/$minimumMessage","type":"string","title":"自定义minimum的验证失败提示信息"},"maximum":{"id":"$root/properties/maximum","type":"number","title":"表单的最大值"},"$maximumMessage":{"id":"$root/properties/$maximumMessage","type":"string","title":"自定义maximum的验证失败提示信息"},"$integer":{"id":"$root/properties/$integer","type":"boolean","title":"必须是整数"},"$integerMessage":{"id":"$root/properties/$integerMessage","type":"string","title":"自定义$integer的验证失败提示信息"},"enum":{"id":"$root/properties/enum","type":"array","title":"验证表单控件的值必须在此关键字的数组值中","items":{"id":"$root/properties/enum/items","type":"number","title":"关键值","$required":true}},"$enumMessage":{"id":"$root/properties/$enumMessage","type":"string","title":"自定义enum的验证失败信息"},"$readOnly":{"id":"$root/properties/$readOnly","type":"boolean","title":"表单控件只读"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"隐藏表单域（表单值仍然存在）"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},"$placeholder":{"id":"$root/properties/$placeholder","type":"string","title":"表单控件的placeholder属性"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"number","title":"表单的默认值"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"渲染为其他组件","$componentType":"select","$options":[{"label":"单选框","value":"radio"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"可选的选项","items":{"id":"$root/properties/$options/items","type":"object","title":"可选的选项","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"显示的文字","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"number","title":"值","$required":true}}}}}}')},828:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"boolean类型","properties":{"id":{"id":"$root/properties/id","type":"string","title":"当前属性的id","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"数据类型","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"标题，用于描述关键字的作用","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"说明，用于描述关键字的作用"},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"隐藏表单域（表单值仍然存在）"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},"$defaultValue":{"id":"$root/properties/$defaultValue","type":"boolean","title":"表单的默认值"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"渲染为其他组件","$componentType":"select","$options":[{"label":"开关","value":"switch"}]}}}')},829:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"boolean类型","properties":{"id":{"id":"$root/properties/id","type":"string","title":"当前属性的id","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"数据类型","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"标题，用于描述关键字的作用","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"说明，用于描述关键字的作用"},"required":{"id":"$root/properties/required","type":"array","title":"对象必须包含的属性","items":{"id":"$root/properties/required/items","type":"string","title":"对象必须包含的属性","$required":true}}}}')},830:function(e){e.exports=JSON.parse('{"id":"$root","type":"object","title":"array类型","properties":{"id":{"id":"$root/properties/id","type":"string","title":"当前属性的id","$required":true},"type":{"id":"$root/properties/type","type":"string","title":"数据类型","$required":true,"$readOnly":true},"title":{"id":"$root/properties/title","type":"string","title":"标题，用于描述关键字的作用","$required":true},"description":{"id":"$root/properties/description","type":"string","title":"说明，用于描述关键字的作用"},"minItems":{"id":"$root/properties/minItems","type":"number","title":"数组内元素的最小数量"},"$minimumMessage":{"id":"$root/properties/$minimumMessage","type":"string","title":"自定义minItems的验证失败提示信息"},"maximum":{"id":"$root/properties/maximum","type":"number","title":"数组内元素的最大数量"},"$maximumMessage":{"id":"$root/properties/$maximumMessage","type":"string","title":"自定义maxItems的验证失败提示信息"},"$componentType":{"id":"$root/properties/$componentType","type":"string","title":"渲染为其他组件","$componentType":"select","$options":[{"label":"多选框","value":"checkbox"},{"label":"下拉框的多选模式","value":"multiple"},{"label":"下拉框的多选模式，并且可以输入文字","value":"tags"}]},"$options":{"id":"$root/properties/$options","type":"array","title":"可选的选项","items":{"id":"$root/properties/$options/items","type":"object","title":"可选的选项","properties":{"label":{"id":"$root/properties/$options/items/properties/label","type":"string","title":"显示的文字","$required":true},"value":{"id":"$root/properties/$options/items/properties/value","type":"string","title":"值","$required":true}}}},"$hidden":{"id":"$root/properties/$hidden","type":"boolean","title":"隐藏表单域（表单值仍然存在）"},"$tableColumnHidden":{"id":"$root/properties/$tableColumnHidden","type":"boolean","title":"为数组内的对象且组件为表格时，隐藏列（表单值仍然存在）"},"$addDataInReverseOrder":{"id":"$root/properties/$addDataInReverseOrder","type":"boolean","title":"数据添加到数组的头部"}}}')},834:function(e,t,r){"use strict";r.r(t);var i,o,a,n=r(18),s=r(19),l=r(20),p=r(21),d=r(22),u=r(28),c=r(1),m=r.n(c),$=r(79),y=r(287),b=r.n(y),h=r(806),g=r(832),f=r(831),v=r(145),O={schemaJson:Object(v.Map)({id:"$root",type:"object",title:"$root",properties:{}})},j=Object(g.a)("表单生成-schemaJson"),x={createForm:Object(f.a)(Object(u.a)({},j,function(e,t){return e.set("schemaJson",Object(v.Map)(t.payload))}),Object(v.fromJS)(O))},k=(r(425),r(289)),C=(r(426),r(269)),E=r(804),q=r.n(E),w=(r(160),r(88)),T=(r(115),r(26)),M=r(29),D=r.n(M),S=r(257),J=r.n(S),V=(r(800),r(801)),A=r(50),N=r(0),I=r.n(N),L=r(126),F=r(285),H=r(805),R=r(2),P=r.n(R),z=r(808),_=r(68),B=Object(H.b)({schemaJson:Object(H.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return e?e.get("schemaJson").toJS():{}})}),U=Object(F.b)(B,function(e){return{actions:Object(L.b)({setSchemaJson:j},e)}})((a=o=function(e){function t(){var e;Object(n.a)(this,t),e=Object(l.a)(this,Object(p.a)(t).apply(this,arguments)),Object(u.a)(Object(A.a)(e),"handleInputTextAreaChange",function(t){e.setState({textAreaValue:t.target.value})}),Object(u.a)(Object(A.a)(e),"handleRedoJsonSchema",function(t){var r=e.state.textAreaValue,i=e.props.actions,o=e.context.languagePack.message,a=null;try{a=JSON.parse(r),i.setSchemaJson(a)}catch(n){V.a.error(o.jsonFormatError)}});var r=e.props.schemaJson;return e.state={schemaJson:r,textAreaValue:J()(r,null,2)},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.textAreaValue,t=this.context.languagePack,r=t.createForm,i=t.message;return m.a.createElement(c.Fragment,null,m.a.createElement("div",null,m.a.createElement(T.a,{className:P()(q.a.mr10,q.a.mb10),icon:"copy",onClick:D()(z.a).call(z.a,this,"jsonSchemaTextArea",i.copyMessage)},r.copy),m.a.createElement(T.a,{className:q.a.mb10,icon:"redo",onClick:this.handleRedoJsonSchema},r.refreshFormConfiguration)),m.a.createElement(w.a.TextArea,{id:"jsonSchemaTextArea",rows:20,value:e,onChange:this.handleInputTextAreaChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.schemaJson!==t.schemaJson){var r=e.schemaJson;return{schemaJson:r,textAreaValue:J()(r,null,2)}}return null}}]),t}(c.Component),Object(u.a)(o,"contextType",_.b),Object(u.a)(o,"propTypes",{schemaJson:I.a.object,actions:I.a.objectOf(I.a.func)}),i=a))||i,G=(r(288),r(217),r(140),r(59)),K=r.n(G),Z=r(127),Q=r.n(Z),W=r(86),X=r.n(W),Y=r(60),ee=r.n(Y),te=r(65),re=r.n(te),ie=r(128),oe=r.n(ie),ae=r(85),ne=r.n(ae),se=r(116),le=r.n(se),pe=r(812),de=r.n(pe),ue=(r(430),r(271)),ce=r(106),me=(r(431),r(393)),$e=r(66),ye=r.n($e),be=r(51),he=r.n(be),ge=r(833),fe={default:{string:r(821),number:r(822),boolean:r(823),object:r(824),array:r(825)},"zh-cn":{string:r(826),number:r(827),boolean:r(828),object:r(829),array:r(830)}},ve=(r(427),r(290)),Oe=(r(159),r(44)),je=r(284),xe=(r(424),r(163)),ke=r(164),Ce=function(e){function t(){var e,r,i;Object(n.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,he()(r=[this]).call(r,a))),Object(u.a)(Object(A.a)(i),"formRef",Object(c.createRef)()),Object(u.a)(Object(A.a)(i),"state",{typeValue:null,value:null,item:null}),Object(u.a)(Object(A.a)(i),"handleTypeSelect",function(e,t){i.setState({typeValue:e},function(){i.formRef.current.setFieldsValue({"$root/properties/type":e})})}),i}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,i=e.onCancel,o=e.item,a=this.state,n=a.typeValue,s=a.value,l=this.context,p=l.language,d=l.languagePack.createForm,u=p in fe?fe[p]:fe.default;return null!==n&&(u[n].properties.id.$readOnly=o&&"array"===o.type),m.a.createElement(ve.a,{visible:t,width:800,destroyOnClose:!0,maskClosable:!1,onClose:i},m.a.createElement("div",{className:q.a.mb10},m.a.createElement("label",{className:q.a.mr10},d.drawerLabel),m.a.createElement(Oe.a,{className:q.a.typeSelect,value:n,onSelect:this.handleTypeSelect},m.a.createElement(Oe.a.Option,{key:"string",value:"string"},d.selectOptions[0]),m.a.createElement(Oe.a.Option,{key:"number",value:"number"},d.selectOptions[1]),m.a.createElement(Oe.a.Option,{key:"boolean",value:"boolean"},d.selectOptions[2]),m.a.createElement(Oe.a.Option,{key:"array",value:"array"},d.selectOptions[3]),m.a.createElement(Oe.a.Option,{key:"object",value:"object"},d.selectOptions[4]))),n?m.a.createElement(je.a,{ref:this.formRef,json:u[n],value:s,languagePack:"zh-cn"===p?ke:xe,onOk:r,onCancel:i}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!1===e.visible?{typeValue:null}:e.item&&!0===e.visible&&e.item!==t.item?{value:{$root:{id:"array"===e.item.type?"items":null}},item:e.item}:null}}]),t}(c.Component);Object(u.a)(Ce,"contextType",_.b),Object(u.a)(Ce,"propTypes",{item:I.a.object,visible:I.a.bool,onOk:I.a.func,onCancel:I.a.func});var Ee=Ce;r(218),r(432);function qe(e,t){var r=le()(e);if(ne.a){var i=ne()(e);t&&(i=oe()(i).call(i,function(t){return re()(e,t).enumerable})),r.push.apply(r,i)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r,i=null!=arguments[t]?arguments[t]:{};if(t%2)ee()(r=qe(i,!0)).call(r,function(t){Object(u.a)(e,t,i[t])});else if(X.a)Q()(e,X()(i));else{var o;ee()(o=qe(i)).call(o,function(t){K()(e,t,re()(i,t))})}}return e}var Te=function(e){function t(){var e,r,i;Object(n.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,he()(r=[this]).call(r,a))),Object(u.a)(Object(A.a)(i),"formRef",Object(c.createRef)()),Object(u.a)(Object(A.a)(i),"handleTypeSelect",function(e,t){i.setState({typeValue:e},function(){i.formRef.current.setFieldsValue({"$root/properties/type":e})})}),i}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.onOk,i=e.onCancel,o=this.state,a=o.typeValue,n=o.value,s=this.context,l=s.language,p=s.languagePack.createForm,d=l in fe?fe[l]:fe.default;return null!==a&&(d[a].properties.id.$readOnly=!0),m.a.createElement(ve.a,{visible:t,width:800,destroyOnClose:!0,maskClosable:!1,onClose:i},m.a.createElement("div",{className:q.a.mb10},m.a.createElement("label",{className:q.a.mr10},p.drawerLabel),m.a.createElement(Oe.a,{className:q.a.typeSelect,value:a,onSelect:this.handleTypeSelect},m.a.createElement(Oe.a.Option,{key:"string",value:"string"},p.selectOptions[0]),m.a.createElement(Oe.a.Option,{key:"number",value:"number"},p.selectOptions[1]),m.a.createElement(Oe.a.Option,{key:"boolean",value:"boolean"},p.selectOptions[2]),m.a.createElement(Oe.a.Option,{key:"array",value:"array"},p.selectOptions[3]),m.a.createElement(Oe.a.Option,{key:"object",value:"object"},p.selectOptions[4]))),a?m.a.createElement(je.a,{ref:this.formRef,json:d[a],value:n,languagePack:"zh-cn"===l?ke:xe,onOk:r,onCancel:i}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!1===e.visible)return{typeValue:null};if(e.item&&!0===e.visible&&e.item!==t.item){var r=e.item.id.split("/");return{typeValue:e.item.type,value:{$root:we({},e.item,{id:r[r.length-1]})},item:e.item}}return null}}]),t}(c.Component);Object(u.a)(Te,"contextType",_.b),Object(u.a)(Te,"propTypes",{item:I.a.object,visible:I.a.bool,onOk:I.a.func,onCancel:I.a.func});var Me,De,Se,Je=Te;function Ve(e,t){var r=le()(e);if(ne.a){var i=ne()(e);t&&(i=oe()(i).call(i,function(t){return re()(e,t).enumerable})),r.push.apply(r,i)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r,i=null!=arguments[t]?arguments[t]:{};if(t%2)ee()(r=Ve(i,!0)).call(r,function(t){Object(u.a)(e,t,i[t])});else if(X.a)Q()(e,X()(i));else{var o;ee()(o=Ve(i)).call(o,function(t){K()(e,t,re()(i,t))})}}return e}var Ne=Object(H.b)({schemaJson:Object(H.a)(function(e){return e.has("createForm")?e.get("createForm"):null},function(e){return e?e.get("schemaJson").toJS():{}})}),Ie=Object(F.b)(Ne,function(e){return{actions:Object(L.b)({setSchemaJson:j},e)}})((Se=De=function(e){function t(){var e;Object(n.a)(this,t),e=Object(l.a)(this,Object(p.a)(t).apply(this,arguments)),Object(u.a)(Object(A.a)(e),"handleOkAddDrawerClick",function(t,r,i){var o,a=e.state,n=a.schemaJson,s=a.addItem,l=r.$root,p=l.id,d=Object(ge.a)(l,["id"]);"object"===s.type?("properties"in s||(s.properties={}),s.properties[p]=Ae({id:he()(o="".concat(s.id,"/properties/")).call(o,p)},d)):"array"===s.type&&(s.items=Ae({id:"".concat(s.id,"/items")},d));e.props.actions.setSchemaJson(n),e.setState({isAddDrawerDisplay:!1,addItem:null})}),Object(u.a)(Object(A.a)(e),"handleOkEditDrawerClick",function(t,r,i){var o=e.state,a=o.schemaJson,n=o.editItem,s=r.$root,l=(s.id,Object(ge.a)(s,["id"]));"object"===n.type?delete n.items:"array"===n.type&&delete n.properties,ye()(n,l),e.props.actions.setSchemaJson(a),e.setState({isEditDrawerDisplay:!1,editItem:null})});var r=e.props.schemaJson;return e.state={schemaJson:r,isAddDrawerDisplay:!1,isEditDrawerDisplay:!1,addItem:null,editItem:null},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleCloseDrawerClick",value:function(e,t,r){var i;this.setState((i={},Object(u.a)(i,e,null),Object(u.a)(i,t,!1),i))}},{key:"handleOpenAddDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isAddDrawerDisplay:!0,addItem:e})}},{key:"handleOpenEditDrawerClick",value:function(e,t){t.stopPropagation(),this.setState({isEditDrawerDisplay:!0,editItem:e})}},{key:"findAndDelete",value:function(e,t,r,i){if(t.id===e&&r&&i)delete r[i];else if("object"!==t.type)"array"!==t.type||this.findAndDelete(e,t.items,t,"items");else for(var o in t.properties)this.findAndDelete(e,t.properties[o],t.properties,o)}},{key:"handleDeleteItemClick",value:function(e,t){t.stopPropagation();var r=e.id,i=this.state.schemaJson;this.findAndDelete(r,i),this.props.actions.setSchemaJson(i)}},{key:"typeTagView",value:function(e){switch(e){case"object":return m.a.createElement(me.a,{color:"magenta"},"object");case"array":return m.a.createElement(me.a,{color:"red"},"array");case"string":return m.a.createElement(me.a,{color:"blue"},"string");case"number":return m.a.createElement(me.a,{color:"purple"},"number");case"boolean":return m.a.createElement(me.a,{color:"orange"},"boolean");default:return null}}},{key:"infoTableView",value:function(e){var t=[],r=e.type,i=this.context.language,o=i in fe?fe[i]:fe.default;for(var a in o[r].properties)if(a in e){var n=e[a];if(null==n)continue;"boolean"==typeof n?n=String(n):"object"===Object(ce.a)(n)&&(n=Object.prototype.toString.call(n)),t.push(m.a.createElement("tr",{key:a},m.a.createElement("th",null,a),m.a.createElement("td",null,n)))}return m.a.createElement("table",{className:q.a.info},m.a.createElement("tbody",null,t))}},{key:"collapseListView",value:function(e,t){var r,i,o,a=e.type,n=e.title,s=this.context.languagePack.createForm,l=[m.a.createElement(ue.a,{key:"collapse",bordered:!1},m.a.createElement(ue.a.Panel,{header:m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:q.a.fl},m.a.createElement("b",{className:q.a.title},n),this.typeTagView(a)),m.a.createElement("div",{className:q.a.fr},m.a.createElement(T.a.Group,{size:"small"},m.a.createElement(T.a,{icon:"plus",title:s.add,disabled:!("object"===a||"array"===a),onClick:D()(r=this.handleOpenAddDrawerClick).call(r,this,e)}),m.a.createElement(T.a,{icon:"edit",title:s.edit,onClick:D()(i=this.handleOpenEditDrawerClick).call(i,this,e)}),m.a.createElement(T.a,{type:"danger",icon:"delete",title:s.delete,disabled:t,onClick:D()(o=this.handleDeleteItemClick).call(o,this,e)}))))},this.infoTableView(e)))],p=[];if("object"===a&&e.properties)for(var d in e.properties)p.push(this.collapseListView(e.properties[d]));else"array"===a&&e.items&&p.push(this.collapseListView(e.items));return p.length>0&&l.push(m.a.createElement("div",{key:"children",className:q.a.children},p)),l}},{key:"render",value:function(){var e,t,r=this.state,i=r.schemaJson,o=r.isAddDrawerDisplay,a=r.isEditDrawerDisplay,n=r.addItem,s=r.editItem,l=de()(i).length;return m.a.createElement(c.Fragment,null,m.a.createElement("div",{className:q.a.collapse},0===l?null:this.collapseListView(i,!0)),m.a.createElement(Ee,{item:n,visible:o,onOk:this.handleOkAddDrawerClick,onCancel:D()(e=this.handleCloseDrawerClick).call(e,this,"addItem","isAddDrawerDisplay")}),m.a.createElement(Je,{item:s,visible:a,onOk:this.handleOkEditDrawerClick,onCancel:D()(t=this.handleCloseDrawerClick).call(t,this,"editItem","isEditDrawerDisplay")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.schemaJson!==t.schemaJson?{schemaJson:e.schemaJson}:null}}]),t}(c.Component),Object(u.a)(De,"contextType",_.b),Object(u.a)(De,"propTypes",{schemaJson:I.a.object,actions:I.a.objectOf(I.a.func)}),Me=Se))||Me;var Le,Fe,He,Re=function(){return m.a.createElement(_.b.Consumer,null,function(e){var t=e.languagePack.createForm;return[m.a.createElement("p",{key:"introduction"},t.introduction),m.a.createElement(k.a,{key:"row",type:"flex",gutter:10},m.a.createElement(C.a,{className:q.a.mediaMb10,xs:24,sm:24,md:8},m.a.createElement(U,null)),m.a.createElement(C.a,{xs:24,sm:24,md:16},m.a.createElement(Ie,null)))]})},Pe=Object(h.a)(x)((He=Fe=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context.languagePack.createForm;return[m.a.createElement(b.a,{key:"helmet"},m.a.createElement("title",null,e.title)),m.a.createElement($.c,{key:"main"},m.a.createElement($.a,{path:"/CreateForm",component:Re,exact:!0}))]}}]),t}(c.Component),Object(u.a)(Fe,"contextType",_.b),Le=He))||Le;t.default=Pe}}]);